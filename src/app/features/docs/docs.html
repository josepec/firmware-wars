<div class="flex flex-col md:flex-row min-h-screen">

  <!-- Sidebar ───────────────────────────────────────────────── -->
  <aside class="bg-black/85 backdrop-blur-sm border-b md:border-b-0 md:border-r border-green-500/15
                sticky top-0 z-30
                md:w-56 md:flex-shrink-0 md:h-screen md:overflow-y-auto">

    <!-- ── Desktop header ────────────────────────────────────── -->
    <div class="hidden md:flex px-6 pt-6 pb-3 items-center justify-between">
      <span class="text-[10px] tracking-[0.4em] text-green-500/55">// DOCS.CFG</span>
      <a [href]="pdfUrl" target="_blank" rel="noopener" title="Descargar manual PDF"
        class="text-green-500/35 hover:text-green-400 transition-colors">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75"
          stroke-linecap="round">
          <path d="M12 16V4M12 16l-4-4M12 16l4-4" />
          <path d="M4 20h16" />
        </svg>
      </a>
    </div>

    <!-- ── Mobile nav: grid wrap, siempre visible ───────────── -->
    <nav class="md:hidden py-2 px-3">
      <ul class="flex flex-wrap gap-x-1 gap-y-0.5">
        @for (s of sections; track s.id; let last = $last) {
        <li>
          <a [routerLink]="'/docs/' + s.id" routerLinkActive="!text-green-300"
            class="block px-2 py-1.5 text-[9px] tracking-[0.12em] uppercase
                   text-green-400/45 hover:text-green-300/80 transition-colors">
            {{ s.subtitle }}
          </a>
        </li>
        @if (!last) {
        <li class="flex items-center text-green-500/15 text-[9px] select-none">·</li>
        }
        }
        <li class="flex items-center text-green-500/20 text-[9px] select-none px-0.5">/</li>
        <li>
          <a [href]="pdfUrl" target="_blank" rel="noopener" title="Descargar manual PDF"
            class="flex items-center gap-1 px-2 py-1.5 text-green-500/35 hover:text-green-400 transition-colors">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round">
              <path d="M12 16V4M12 16l-4-4M12 16l4-4" />
              <path d="M4 20h16" />
            </svg>
            <span class="text-[9px] tracking-[0.12em] uppercase">PDF</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- ── Desktop nav: vertical ─────────────────────────────── -->
    <nav class="hidden md:block px-6 pb-6">
      <ul class="flex flex-col gap-0.5">
        @for (s of sections; track s.id) {
        <li>
          <a [routerLink]="'/docs/' + s.id"
            routerLinkActive="text-green-400 border-l-2 border-green-400 pl-3"
            class="block text-green-400/60 hover:text-green-300 transition-colors
                   py-1 pl-0 text-xs tracking-widest uppercase">
            {{ s.subtitle }}
          </a>
        </li>
        }
      </ul>
    </nav>

  </aside>

  <!-- Content ───────────────────────────────────────────────── -->
  <main class="flex-1 min-w-0 p-6 md:p-10 max-w-4xl relative z-20 overflow-x-hidden">
    @if (markdownSrc) {
    <markdown [src]="markdownSrc" (load)="onMarkdownReady()" />
    } @else {
    <p class="text-green-400/65 text-xs tracking-widest">
      &gt; Selecciona una sección del menú.<span class="cursor-blink ml-1">&#9646;</span>
    </p>
    }
  </main>

</div>